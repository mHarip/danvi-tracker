@import "bootstrap/scss/functions";
@import "bootstrap/scss/bootstrap";

// === Accessible Colors ===
$primary: #003A6D;
$secondary: #008C8C;
$info: #1BA1E2;
$success: #3C9A3C;
$warning: #FFAF00;
$danger: #B23A48;
$dark: #1A1A1A;
$light: #F9FAFB;
$text-muted: #505A6E;
$primary-text-emphasis: #002B50;

// Typography & Layout
$font-family-sans-serif: 'Inter', 'Segoe UI', sans-serif;
$border-radius: 0.6rem;

// === Utilities / Globals ===
body {
  font-family: $font-family-sans-serif;
  color: $dark;
  background-color: $light;
}

canvas {
  max-height: 280px;
}

/* === Navbar === */
.custom-navbar {
  background-color: $secondary;
  color: #fff;

  .navbar-nav {
    .nav-link {
      color: #fff;
      font-weight: 500;
      position: relative;
      // gradient underline effect
      background: linear-gradient(to right, transparent),
      linear-gradient(to right, #DA363B, #E0582E, #ECB841, #4A7638, #6E7491, #874194);
      background-size: 100% 3px, 0 3px;
      background-position: 100% 100%, 0 100%;
      background-repeat: no-repeat;
      transition: background-size 400ms, color 200ms;
      text-decoration: none;

      &.active {
        color: $warning;
        font-weight: bold;
      }

      &:hover {
        background-size: 0 3px, 100% 3px;
        color: $warning;
      }
    }
  }

  .navbar-toggler {
    border-color: $primary;
    background-color: $secondary;
    color: #fff;

    &:hover,
    &:focus {
      background-color: $primary;
      border-color: $secondary;
    }
  }
}

/* === Buttons === */
.btn-primary,
.btn--quick-add {
  background-color: $primary !important;
  border-color: $primary !important;
  color: #fff !important;
  transition: background-color 150ms, box-shadow 150ms;

  &:hover,
  &:focus,
  &:active,
  &.active,
  .show > &.dropdown-toggle {
    background-color: $secondary !important;
    color: #fff !important;
  }
}

/* Keep quick-add visual prominence */
.btn--quick-add {
  background: $secondary;
  border: none;
  font-weight: bold;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);

  &:hover {
    background: $primary;
  }
}

.btn-secondary {
  background-color: $secondary !important;
  border-color: $secondary !important;
  color: #fff !important;

  &:hover {
    background-color: darken($secondary, 8%) !important;
  }
}

/* Handle dropdown-toggle active state for bootstrap show */
.btn-primary:active,
.btn-primary.active,
.show > .btn-primary.dropdown-toggle {
  background-color: $secondary !important;
  border-color: $secondary !important;
}

/* === Dropdowns === */
.dropdown-menu {
  border-radius: 0.5rem;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  padding: .5rem 0;

  .dropdown-item {
    font-weight: 500;
    color: #012a52;
    transition: background-color 0.2s, color 0.2s;
    padding: .5rem 1rem;

    &:hover {
      color: #fff;
    }

    // color-coded hover states for first few items
    &:nth-child(1):hover {
      background-color: $primary;
      color: #fff;
    }

    &:nth-child(2):hover {
      background-color: #6E7491;
      color: #fff;
    }

    &:nth-child(3):hover {
      background-color: #4A7638;
      color: #fff;
    }

    &:nth-child(4):hover {
      background-color: #E0582E;
      color: #fff;
    }
  }

  // Lightweight default hover for other items
  .dropdown-item:not(:nth-child(1)):not(:nth-child(2)):not(:nth-child(3)):not(:nth-child(4)):hover {
    background-color: #f1f5f9;
    color: #000;
  }

  .dropdown-item.text-danger:hover {
    background-color: #dc3545 !important;
    color: #fff !important;
  }
}

/* === Form Elements === */
.form-check-input {
  background-color: $primary;
  border-color: $primary;

  &:checked {
    background-color: $dark;
    border-color: $dark;
  }

  &:focus {
    box-shadow: 0 0 0 0.25rem rgba($primary, 0.25);
    border-color: $secondary;
  }
}

/* === Pagination === */
.pagination {
  .page-link {
    color: $primary;
    border: 1px solid $primary;

    &:hover {
      background-color: $secondary;
      color: #fff;
      border-color: $secondary;
    }
  }

  .page-item.active .page-link {
    background-color: $primary;
    border-color: $primary;
    color: #fff;
  }

  .page-item.disabled .page-link {
    color: #6c757d;
    background-color: #f8f9fa;
    border-color: #dee2e6;
  }
}

/* === Cards & Tables === */
.card {
  background-color: #fff;
  border-color: #E5E7EB;
  border-bottom: 0;
  border-radius: 0.8rem;

  &-header {
    padding: 0.75rem 1rem;
    border-bottom: 1px solid #e5e5e5;

    strong {
      line-height: 1;
      display: flex;
      align-items: center;
    }
  }
}

.table-striped tbody tr:nth-of-type(odd) {
  background-color: #EAF2F8 !important;
}

/* Total highlight (single consolidated style) */
.total-highlight {
  background: linear-gradient(90deg, #EAF2F8, #D6ECF5);
  padding: 3px 10px;
  border-radius: 6px;
  font-weight: 700;
  color: $primary !important;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  box-shadow: 0 1px 4px rgba(13, 71, 161, 0.2);
  transition: all 0.2s ease-in-out;
}

.table-secondary:hover .total-highlight {
  background: linear-gradient(90deg, #dbeafe, #c7d2fe);
  box-shadow: 0 2px 6px rgba(13, 71, 161, 0.25);
}

/* === Actions Dropdown (compact) === */
.actions-dropdown {
  .dropdown-menu {
    min-width: auto !important;
    width: 110px !important;
    padding: 4px 0 !important;
    border-radius: 6px !important;
    border: 1px solid #e5e7eb !important;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    text-align: left;
  }

  .dropdown-item {
    padding: 4px 10px !important;
    font-size: 0.875rem !important;
    line-height: 1.2 !important;
  }

  .dropdown-item:first-child {
    color: #0d47a1;
    font-weight: 600;
  }

  .dropdown-item.text-danger {
    color: #dc3545 !important;
    font-weight: 600;
  }

  .dropdown-item.text-danger:hover {
    background-color: #dc3545 !important;
    color: #fff !important;
  }
}

/* === Modal === */
.modal-header-bg {
  background-color: $secondary;
  color: #fff;
}

/* === Filter / Scrollable buttons === */
.filter-buttons .btn {
  border-radius: 0.4rem;
  min-width: 2.5rem;
  white-space: nowrap;
}

.filter-buttons .btn-primary {
  background-color: #012a52;
  border-color: #012a52;
}

.filter-buttons .btn-primary:hover {
  background-color: #023a7a;
  border-color: #023a7a;
}

.filter-scroll {
  scrollbar-width: thin;
  scrollbar-color: #ccc transparent;
  padding-bottom: 4px;
  display: flex;
  gap: 0.5rem;
  overflow-x: auto;

  &::-webkit-scrollbar {
    height: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #ccc;
    border-radius: 10px;
  }

  .btn {
    white-space: nowrap;
    flex-shrink: 0;
  }
}

/* === Misc === */
.card-header strong {
  line-height: 1;
}

/* === Responsive === */
@media (max-width: 768px) {
  .card-header {
    padding: 0.75rem 1rem !important;
  }

  .card-header strong {
    font-size: 1rem !important;
  }

  .filter-scroll {
    margin-top: 0.25rem;
  }
}

/* === Utility text colors === */
.text-primary {
  color: $primary !important;
}

.text-secondary {
  color: $secondary !important;
}

/* === Alerts === */
.alert-success {
  background-color: rgba($success, 0.15);
  color: darken($success, 25%);
}

.alert-danger {
  background-color: rgba($danger, 0.15);
  color: darken($danger, 20%);
}
